'''
Description: this program use pandas to read profile file generated by searching compare and display them
Date: 2022-04-06 20:52:02
LastEditTime: 2022-04-08 17:15:38
'''
from cProfile import label
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
#read data from the file
def read_data(filename):
    data=pd.read_csv(filename)
    return data
#show the iterations and steps
def show_iterations_and_steps(data,title="algorithm",log_scale=False):
    df_steps=data["steps"]
    df_iterations=data["iteration"]
    plt.scatter(df_steps,df_iterations,s=16,c=[(0.7,0,0.7,0.2) for i in range(len(df_steps))])
    # plt.scatter(df_steps,df_iterations)
    plt.xlabel("steps")
    plt.ylabel("iteration")
    if log_scale:
        plt.yscale("log")
    plt.title("iterations and steps of "+title)
    plt.show()

#show steps in the same plot
def show_steps_and_time(data,title="algorithm",log_scale=False):
    df_steps=data["steps"]
    df_time_consumed=data["time_consumed"]
    plt.scatter(df_steps,df_time_consumed,s=16,c=[(0.7,0,0.7,0.2) for i in range(len(df_steps))])
    # plt.scatter(df_steps,df_iterations)
    plt.xlabel("steps")
    plt.ylabel("time consumed")
    if log_scale:
        plt.yscale("log")
    plt.title("steps of "+title)
    plt.show()
#show iteration and time 
def show_iterations_and_time(data,title="algorithm",log_scale=False):
    df_iterations=data["iteration"]
    df_time_consumed=data["time_consumed"]
    plt.scatter(df_iterations,df_time_consumed,s=16,c=[(0.7,0,0.7,0.2) for i in range(len(df_iterations))])
    # plt.scatter(df_steps,df_iterations)
    plt.xlabel("iterations")
    plt.ylabel("time consumed")
    if log_scale:
        plt.yscale("log")
    plt.title("iterations of "+title)
    plt.show()
#show all of them
def show_all():
    SCATTER_SIZE=10
    #show bfs
    data_bfs=read_data(".\\profile_file\\BFS300.csv")
    bfs_time_consumed=data_bfs["time_consumed"]
    bfs_steps=data_bfs["steps"]
    bfs_iterations=data_bfs["iteration"]
    plt.scatter(bfs_steps,bfs_iterations,s=SCATTER_SIZE,c=[(0.7,0,0.7,0.2) for i in range(len(bfs_steps))],label="bfs")
    #show astar network
    data_a_star_network=read_data(".\\profile_file\\a_star_network.csv")
    a_star_network_time_consumed=data_a_star_network["time_consumed"]
    a_star_network_steps=data_a_star_network["steps"]
    a_star_network_iterations=data_a_star_network["iteration"]
    plt.scatter(a_star_network_steps,a_star_network_iterations,s=SCATTER_SIZE,c=[(0,0.7,0.7,0.2) for i in range(len(a_star_network_steps))],label="a_star_network")
    #show manhattan
    data_manhattan=read_data(".\\profile_file\\a_star_manhattan300.csv")
    manhattan_time_consumed=data_manhattan["time_consumed"]
    manhattan_steps=data_manhattan["steps"]
    manhattan_iterations=data_manhattan["iteration"]
    plt.scatter(manhattan_steps,manhattan_iterations,s=SCATTER_SIZE,c=[(1,0.7,0,0.2) for i in range(len(manhattan_steps))],label="a_star_manhattan")
    plt.xlabel("steps")
    plt.ylabel("iterations")
    # plt.yscale("log")
    plt.title("steps and iterations")
    plt.legend()
    plt.show()

if __name__ == '__main__':
    # data=read_data(".\\profile_file\\A_star_wrong_tiles.csv")
    # print(data)
    # print(data.describe())
    # show_iterations_and_steps(data,"A_star_network",True)

    # show_iterations_and_time(data,"BFS",True)
    show_all()